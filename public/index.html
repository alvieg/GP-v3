<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>about:blank</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');
            * {
                font-family: 'Orbitron', sans-serif;
                cursor: url('')
            }
            .title {
                text-align: center;
                color: var(--txt-color);
                font-size: 48px;
            }
            :root {
                --button-color: dodgerblue;
                --txt-color: white;
                --bg-color: black;
                --button-txt-color: white;
                --btn-hover-bg-clr: white
            }
            body.light {
                --button-color: dodgerblue;
                --txt-color: dodgerblue;
                --bg-color: white;
                --btn-hover-bg-clr: black
            }
            body {
                background-color: var(--bg-color);
                color: dodgerblue;
            }
            .buttonSpace button {
                background-color: var(--button-color);
                color: var(--button-txt-color);
                border: 2px solid dodgerblue;
                border-radius: 8px;
                font-size: 9vh;
                text-align: center;
                justify-content: center;
                margin: 1vh;
                width: 47vw;
                height: 15vh;
                transition: transform 0.3s ease-in-out, border-radius 0.5s ease-in-out; 
            }
            .buttonSpace button:hover {
                background-color: var(--btn-hover-bg-clr);
                border-radius: 30px;
                color: dodgerblue;
                transform: scale(1.025);
                transition: transform 0.3s ease-in-out, border-radius 0.5s ease-in-out;
            }
            #toggle {
                background-color: var(--button-color);
                color: var(--button-txt-color);
                border: 2px solid dodgerblue;
                border-radius: 8px;
                text-align: center;
                font-size: 12px;
                justify-content: center;
                margin: 1vh;
                width: 10vw;
                height: 5vh;
                transition: transform 0.3s ease-in-out, border-radius 0.5s ease-in-out; 
            }
            #toggle:hover {
                background-color: var(--btn-hover-bg-clr);
                border-radius: 30px;
                color: dodgerblue;
                transform: scale(1.025);
                transition: transform 0.3s ease-in-out, border-radius 0.5s ease-in-out;
            }
            .modal {
                display: none; /* Hidden by default */
                position: fixed;
                top: 50%;
                left: 50%;
                height: 100%;
                width: 100%;
                transform: translate(-50%, -50%);
                background-color: white;
                padding: 0;
                border: none;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                z-index: 999;
                overflow: Hidden
            }
            .modal-overlay {
                display: none; /* Hidden by default */
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 998;
            }
            #closeBtn {
                z-index: 1001;
                border: none;
                background-color: rgba(0, 0, 0, 0.1);
                border-radius: 8px;
                transition: all 0.2s ease-in;
            }
            #closeBtn:hover {
                background-color: rgba(0,0,0,0.3);
                transform: scale(1.05);
            }
            #iframe {
                height: 100%;
                width: 100%;
                margin: none;
                border: none;
                border-radius: 8px;
                overflow: hidden;
                z-index: 1000;
            }
        </style>
    </head>
    <body>
        <div class="title">
            <h1 class="title" id="title">Click a button to open in About:Blank</h1>
            <button id="toggle" onclick="toggleTheme()" class="toggle">Toggle Light/Dark</button>
        </div>
        <div id="buttonSpace" class="buttonSpace"><!--buttons created by js--></div>
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal" id="modal">
            <embed id="iframe">
        </div>
        <script>
            const gameButtons = {
                "GHUB":"https://thegportal.neocities.org",
                "Burger Awesome":"https://burgerawesome.neocities.org",
                "HaHa Games":"https://hahagames.com",
                "Butter Dog Games":"https://teachers-are-the-best.neocities.org",
                "GN-Math":"https://gn-math.github.io",
                "MiniPlay":"https://miniplay.com",
                "Proxy (WIP)":"/proxy.html",
            };
            const buttonSpace = document.getElementById('buttonSpace');

            for (const [key, value] of Object.entries(gameButtons)) {
                const button = document.createElement('button');
                button.textContent = key;
                button.onclick = () => openModal(value);
                buttonSpace.appendChild(button);
            }
            function checkHTTP(VAR) {
                if (!VAR.startsWith('https://') && !VAR.startsWith('http://')) {
                    VAR = "https://" + VAR;
                };
            };
            function openInNewTab(URL) {
                var win = window.open();
                win.document.body.style.margin = '0';
                win.document.body.style.height = '100vh';
                var iframe = win.document.createElement('embed');
                iframe.style.border = 'none';
                iframe.style.width = '100%';
                iframe.style.height = '100%';
                iframe.style.margin = '0';
                var url = URL;
                checkHTTP(url)
                iframe.src = url;
                win.document.body.appendChild(iframe);
                var script = win.document.createElement('script');
                script.innerHTML = "setTimeout(() => { location.reload(true); }, 10800 * 1000);";
                win.document.body.appendChild(script);
                window.close();
                console.log(url);
            };
            function toggleTheme() {
                document.body.classList.toggle('light');
            };
            // Select elements
            const closeModalBtn = document.getElementById('closeModalBtn');
            const modal = document.getElementById('modal');
            const modalOverlay = document.getElementById('modalOverlay');
            const embed = document.getElementById('iframe')

            // Function to open modal
            function openModal(URL) {
                modal.style.display = 'block';
                modalOverlay.style.display = 'block';
                embed.src = URL;
                embed.src = URL
            }

            // Function to close modal
            function closeModal() {
                modal.style.display = 'none';
                modalOverlay.style.display = 'none';
                embed.src = ''
            }

            // Event listeners
            modalOverlay.addEventListener('click', closeModal); // Close modal when clicking outside
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && event.altKey) {
                    closeModal();
                };
            });
            //listener for iframe reload
            /*document.addEventListener('keydown', function(event) {
                if (event.key === 'r' && event.altKey) {
                    embed.src = embed.src;
                };
            });*/
        </script>
    </body>
</html>
